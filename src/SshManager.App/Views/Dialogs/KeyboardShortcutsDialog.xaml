<ui:FluentWindow x:Class="SshManager.App.Views.Dialogs.KeyboardShortcutsDialog"
                xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
                mc:Ignorable="d"
                Title="Keyboard Shortcuts"
                Height="600" Width="700"
                MinHeight="500" MinWidth="600"
                WindowStartupLocation="CenterOwner"
                ResizeMode="CanResize"
                ExtendsContentIntoTitleBar="True"
                WindowBackdropType="Mica">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Title Bar -->
        <ui:TitleBar Grid.Row="0"
                     Title="Keyboard Shortcuts"
                     ShowMaximize="False"
                     ShowMinimize="False" />

        <!-- Content -->
        <ScrollViewer Grid.Row="1"
                      VerticalScrollBarVisibility="Auto"
                      Margin="24,16">
            <StackPanel>
                <!-- Introduction -->
                <TextBlock TextWrapping="Wrap" Opacity="0.7" Margin="0,0,0,16">
                    SSH Manager supports the following keyboard shortcuts to improve your workflow.
                    Note that some shortcuts are only available when the terminal is not focused to avoid conflicts with terminal applications.
                </TextBlock>

                <!-- General Section -->
                <TextBlock Text="General" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,12" />
                <Border Background="#0C000000" CornerRadius="8" Padding="16" Margin="0,0,0,24">
                    <StackPanel>
                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="Ctrl+K" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Quick Connect (overlay)" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>

                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="Ctrl+Q" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Quick Connect (dialog)" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>

                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="Ctrl+F" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Focus search box" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>

                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="Escape" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Clear search" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>

                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="Ctrl+," FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Open Settings" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>

                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="F1" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Show keyboard shortcuts" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="F5" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Refresh hosts" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Host Management Section -->
                <TextBlock Text="Host Management" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,12" />
                <Border Background="#0C000000" CornerRadius="8" Padding="16" Margin="0,0,0,24">
                    <StackPanel>
                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="Enter" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Connect to selected host" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>

                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="Ctrl+N" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Add new host" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>

                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="Ctrl+E" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Edit selected host" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="Delete" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Delete selected host" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Terminal Sessions Section -->
                <TextBlock Text="Terminal Sessions" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,12" />
                <Border Background="#0C000000" CornerRadius="8" Padding="16" Margin="0,0,0,24">
                    <StackPanel>
                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="Ctrl+F4" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Close current session" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>

                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="Ctrl+B" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Open SFTP Browser" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>

                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="Ctrl+Tab" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Cycle to next pane" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="Ctrl+Shift+Tab" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Cycle to previous pane" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Pane Management Section -->
                <TextBlock Text="Pane Management" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,12" />
                <Border Background="#0C000000" CornerRadius="8" Padding="16" Margin="0,0,0,24">
                    <StackPanel>
                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="Ctrl+Shift+D" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Split pane vertically" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>

                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="Ctrl+Shift+E" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Split pane horizontally" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>

                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="Ctrl+Shift+M" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Mirror current pane" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>

                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="Ctrl+Shift+W" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Close current pane" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>

                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="Alt+Arrow Keys" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Navigate between panes" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Utilities Section -->
                <TextBlock Text="Utilities" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,12" />
                <Border Background="#0C000000" CornerRadius="8" Padding="16" Margin="0,0,0,24">
                    <StackPanel>
                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="Ctrl+H" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Connection History" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>

                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="Ctrl+Shift+S" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Snippets Manager" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border Background="#15FFFFFF" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left">
                                <TextBlock Text="Ctrl+Shift+P" FontFamily="Cascadia Code, Consolas" FontSize="12" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Serial Port Quick Connect" VerticalAlignment="Center" Opacity="0.8" />
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Note about terminal shortcuts -->
                <Border Background="#1A005A9E" BorderBrush="#3A0078D4" BorderThickness="1"
                        CornerRadius="8" Padding="12" Margin="0,0,0,16">
                    <StackPanel Orientation="Horizontal">
                        <ui:SymbolIcon Symbol="Info24" Foreground="#0078D4" Margin="0,0,12,0"
                                      VerticalAlignment="Top" FontSize="20" />
                        <TextBlock TextWrapping="Wrap" Opacity="0.9">
                            <Run FontWeight="SemiBold">Important:</Run>
                            <Run Text=" When a terminal is focused, certain shortcuts (like Ctrl+K, Ctrl+N, Ctrl+E, Ctrl+F, Ctrl+B, Ctrl+H) pass through to the terminal to avoid conflicts with bash/readline shortcuts. Use these shortcuts when the host list or other UI elements are focused." />
                        </TextBlock>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <!-- Close Button -->
        <Grid Grid.Row="2" Margin="24,16">
            <ui:Button Content="Close"
                      Appearance="Primary"
                      Click="CloseButton_Click"
                      HorizontalAlignment="Right"
                      MinWidth="100" />
        </Grid>
    </Grid>
</ui:FluentWindow>
